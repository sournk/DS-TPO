# DS-TPO: Time Price Opportunity (TPO)
Торговая система для MetaTrader 5, которая использует Time Price Opportunity (TPO) подход

* Разработчик: Denis Kislitsyn | denis@kislitsyn.me | [kislitsyn.me](https://kislitsyn.me)
* Версия: 0.0.1

## Торговая стратегия

Бот использует TPO индикатор для входа в сделки в двух режимах:

**Режим 1. Naked Point Of Control (NPOC)**. Используются непротестированные POC прошлых периодов для потенциальных сделок.
**Режим 2. Single Prints (SP)**.  Используются крайние одиночные блоки ("хвосты") текущего TPO для потенциальных сделок.

### Режим 1. Naked Point Of Control (NPOC)

- [] Ищем POC после полного завершения TPO профиля
- [x] 1. Все зоны NPOC - потенциальные зоны для входа в сделку.
- [x] 2. Касание зоны NPOC активирует режим ожидания слома структуры на младшем TF:
    - [x] 2.1. После касания NPOC бот определяет HIGH и LOW вокруг уровня.
    - [x] 2.2. Левый вершина/впадина определяет текущий BOS уровень.
    - [x] 2.3. Бот может обновляет BOS много раз после каждого перехая/перелоя текущего экстремума.
    - [x] 2.4. Новый BOS - это вершина/впадина, предшествующая новому экстремуму.
    - [x] 2.5. Любые вершины внутри текущих HIGH и LOW игнорируются.
- [x] 3. Бот входит в сделку после подтверждения слома структуры - пробития актуального уровня BOS.
    - [x] 3.1. Если текущая цена хуже цены уровня NPOC, то бот размещает отложенный STOP ордер.
    - [x] 3.2. Если текущая лучше цены уровня NPOC, то бот входит по рынку.
- [x] 4. Бот устанавливает SL и TP ордера или позиции на фиксированных дистанциях от уровня.

### Режим 2. Single Prints (SP)
- [ ] 1. После образования SP (одиночных блоков в хвостах TPO) активируется режим поиска входа в сделку на младшем TF.
- [ ] 2. Бот определяет вход в позицию после слома структуры (BOS) также как [Режиме 1](#режим-1-naked-point-of-control-npoc).
- [ ] 3. Вход происходит либо лимитным ордером, либо по рынку от момента определения BOS с фиксированными дистанциями SL и TP в пунктах.
- [ ] 4. Неактивированные ордера удаляются после достижения ценой TP.
- [ ] ==Усы одноразовые в день==


## Установка
1. Убедитесь, что ваш терминал MetaTrader 5 обновлен до последней версии. Для тестирования советников рекомендуется обновить терминал до самой последней бета-версии. Для этого запустите обновление из главного меню `Help->Check For Updates->Latest Beta Version`. На прошлых версиях советник может не запускаться, потому что скомпилирован на последней версии терминала. В этом случае вы увидите сообщения на вкладке `Journal` об этом.
2. Скопируйте исполняемый файл бота `*.ex5` в каталог данных терминала `MQL5\Experts\`.
3. Откройте график пары.
4. Переместите советника из окна Навигатор на график.
5. Установите в настройках бота галочку `Allow Auto Trading`.
6. Включите режим автоторговли в терминале, нажав кнопку `Algo Trading` на главной панели инструментов.

## Настройки

### Основные фичи

### Доп. фичи

- [ ] Иногда открыть лимитным ордер от NPOC нельзя, потому что BOS оказывается ниже NPOC. Поэтому бот входит всегда по рынку после пробоя BOS.